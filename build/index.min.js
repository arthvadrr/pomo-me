!function(){"use strict";var e,t,a=document.getElementById("audioTicking"),s=document.getElementById("stateView"),r=document.getElementsByClassName("pomo-timer")[0],n=document.getElementById("timer"),i=document.getElementById("start"),c=document.getElementById("reset"),d=document.getElementById("shortBreak"),u=document.getElementById("longBreak"),o=document.getElementById("increaseTime"),l=document.getElementById("decreaseTime"),m=document.getElementById("progressBar"),v=!1,k=!1,b="init",p=function(){},f=5,L=f,E=f,y=function(e){var t="Ready";switch(r.classList.remove("init"),r.classList.remove("break"),r.classList.remove("finished"),r.classList.remove("paused"),r.classList.remove("active"),r.classList.remove("break-active"),r.classList.remove("break-paused"),e){case"init":r.classList.add("init"),t="Ready",a.pause();break;case"break":r.classList.add("break"),t="Break Time!",a.pause();break;case"finished":r.classList.add("finished"),t="Time's up!",a.pause();break;case"paused":r.classList.add("paused"),t="Paused",a.pause();break;case"active":r.classList.add("active"),t="Active",a.play();break;case"break-active":r.classList.add("break-active"),t="Break started!",a.play();break;case"break-paused":r.classList.add("break-paused"),t="Paused",a.pause();break;default:return a.pause(),void(t="Ready")}g(t)},g=function(e){for(;s.firstChild;)s.removeChild(s.firstChild);var t=document.createElement("div"),a=document.createTextNode(e);t.appendChild(a),s.appendChild(t)},B=function(e){var t=Math.floor(e/60),a=e%60,s=t%60;t>=60&&(s=60,a=0);var r=function(e){return e<10?"0".concat(e):e};return a=r(a),s=r(s),"".concat(s,":").concat(a)},I=function(e){n.innerHTML=e,m.style.strokeDashoffset=h()},h=function(){return 0!==E?565.48-565.48*(E-1)/(f-1):565.48},T=function(){A(),k&&i.removeAttribute("disabled",!0),v=!1,i.innerHTML="Start",i.setAttribute("aria-pressed",!1),L=f,I(B(E=f)),y(b="init")},A=function(){console.log(b),"break-active"===b?(b="break-paused",console.log(b)):b="paused",y(b),v=!1,i.innerHTML="Start",i.setAttribute("aria-pressed",!1),clearInterval(p),0===E?(k=!0,i.setAttribute("disabled",!0),y(b="finished")):L=E};i.addEventListener("click",(function(){v?0!==E&&A():(y(b="break"===b||"break-paused"===b?"break-active":"active"),v=!0,i.innerHTML="Pause",i.setAttribute("aria-pressed",!0),e=Date.now(),p=setInterval((function(){t=Math.round((Date.now()-e)/1e3),E=function(e){return 0==L-e?(e=0,0):L-e}(t),I(B(E)),0===E&&A()}),100))})),c.addEventListener("click",T),d.addEventListener("click",(function(){T(),v=!1,clearInterval(p),i.innerHTML="Start",i.setAttribute("aria-pressed",!1),E=L=300,f=L,I(B(L)),y(b="break")})),u.addEventListener("click",(function(){T(),v=!1,clearInterval(p),i.innerHTML="Start",i.setAttribute("aria-pressed",!1),E=L=900,f=L,I(B(L)),y(b="break")})),o.addEventListener("click",(function(){v=!1,clearInterval(p),i.innerHTML="Start",i.setAttribute("aria-pressed",!1),L<=3300?L+=300:L=3600,E=L,f=L,I(B(L))})),l.addEventListener("click",(function(){v=!1,clearInterval(p),i.innerHTML="Start",i.setAttribute("aria-pressed",!1),L>=600?L-=300:L=300,E=L,f=L,I(B(L))})),I(B(E))}();
