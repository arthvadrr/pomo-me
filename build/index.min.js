!function(){"use strict";var e={pomoTimer:document.getElementsByClassName("pomo-timer")[0],timer:document.getElementById("timer"),start:document.getElementById("start"),reset:document.getElementById("reset"),shortBreak:document.getElementById("shortBreak"),longBreak:document.getElementById("longBreak"),increaseTime:document.getElementById("increaseTime"),decreaseTime:document.getElementById("decreaseTime"),progressBar:document.getElementById("progressBar"),tickingVolume:document.getElementById("ticking-volume"),timesUpVolume:document.getElementById("times-up-volume"),buttonVolume:document.getElementById("button-volume"),masterVolume:document.getElementById("master-volume"),muteTickingButton:document.getElementById("mute-ticking"),muteTimesUp:document.getElementById("mute-times-up"),muteButtonPresses:document.getElementById("mute-button-presses"),muteAll:document.getElementById("mute-all"),iconMuted:document.getElementsByClassName("icon-muted")[0],iconVolume:document.getElementsByClassName("icon-volume")[0],audioTicking:document.getElementById("audioTicking"),audioButtonPress:document.getElementById("audioButtonPress"),audioTimesUp:document.getElementById("audioTimesUp"),stateView:document.getElementById("stateView")},t={countdown:function(){},isActive:!1,dateStarted:0,delta:0,strokeDashArrayOffset:0,startHidden:!1,pomoState:"init",muteTicking:!1,muteButtonPresses:!1,muteNotifications:!1,muteTimesUp:!1,muteAll:!1,originalTime:10,startTime:10,remainingTime:10,currentDelta:0},i=function(e){switch(e.target.id){case"mute-ticking":n(e);break;case"mute-button-presses":s(e);break;case"mute-times-up":r(e);break;case"mute-all":m(e);break;default:return}},a=function(i){t.muteTicking&&t.muteButtonPresses&&t.muteTimesUp?e.muteAll.checked=!0:e.muteAll.checked&&(e.muteAll.checked=!1)},n=function(i){i.target.checked?(t.muteTicking=!0,e.audioTicking.muted=!0):(t.muteTicking=!1,e.audioTicking.muted=!1),a()},s=function(i){i.target.checked?(t.muteButtonPresses=!0,e.audioButtonPress.muted=!0):(t.muteButtonPresses=!1,e.audioButtonPress.muted=!1),a()},r=function(i){i.target.checked?(t.muteTimesUp=!0,e.audioTimesUp.muted=!0):(t.muteTimesUp=!1,e.audioTimesUp.muted=!1),a()},m=function(i){i.target.checked?(t.muteTicking=!0,t.muteButtonPresses=!0,t.muteTimesUp=!0,e.muteButtonPresses.checked=!0,e.muteTickingButton.checked=!0,e.muteTimesUp.checked=!0,e.audioTicking.muted=!0,e.audioButtonPress.muted=!0,e.audioTimesUp.muted=!0):(t.muteTicking=!1,t.muteButtonPresses=!1,t.muteTimesUp=!1,e.muteButtonPresses.checked=!1,e.muteTickingButton.checked=!1,e.muteTimesUp.checked=!1,e.audioTicking.muted=!1,e.audioButtonPress.muted=!1,e.audioTimesUp.muted=!1),a()},o=function(t){var i=t.target.value;i&&(e.tickingVolume.value=i,e.audioTicking.volume=i)},u=function(t){var i=t.target.value;i&&(e.buttonVolume.value=i,e.audioButtonPress.volume=i)},c=function(t){var i=t.target.value;i&&(e.timesUpVolume.value=i,e.audioTimesUp.volume=i)},d=function(t){var i=t.target.value;i&&(e.audioTimesUp.volume=i,e.timesUpVolume.value=i,e.audioTicking.volume=i,e.tickingVolume.value=i,e.audioButtonPress.volume=i/2,e.buttonVolume.value=i)},l=function(){return e.audioButtonPress.play()};e.audioButtonPress.volume=.5,e.muteTickingButton.addEventListener("click",n),e.tickingVolume.addEventListener("change",o),e.buttonVolume.addEventListener("change",u),e.timesUpVolume.addEventListener("change",c),e.masterVolume.addEventListener("change",d),e.muteTimesUp.addEventListener("click",i),e.muteButtonPresses.addEventListener("click",i),e.muteAll.addEventListener("click",i),e.start.addEventListener("click",l),e.reset.addEventListener("click",l),e.shortBreak.addEventListener("click",l),e.longBreak.addEventListener("click",l),e.increaseTime.addEventListener("click",l),e.decreaseTime.addEventListener("click",l),e.muteTickingButton.addEventListener("click",l),e.muteTimesUp.addEventListener("click",l),e.muteAll.addEventListener("click",l);var T=function(t){var i="Ready";switch(e.pomoTimer.classList.remove("init"),e.pomoTimer.classList.remove("break"),e.pomoTimer.classList.remove("finished"),e.pomoTimer.classList.remove("paused"),e.pomoTimer.classList.remove("active"),e.pomoTimer.classList.remove("break-active"),e.pomoTimer.classList.remove("break-paused"),t){case"init":e.pomoTimer.classList.add("init"),i="Ready",e.audioTicking.pause();break;case"break":e.pomoTimer.classList.add("break"),i="Break Time!",e.audioTicking.pause();break;case"finished":e.pomoTimer.classList.add("finished"),i="Time's up!",e.audioTicking.pause();break;case"paused":e.pomoTimer.classList.add("paused"),i="Paused",e.audioTicking.pause();break;case"active":e.pomoTimer.classList.add("active"),i="Active",e.audioTicking.play();break;case"break-active":e.pomoTimer.classList.add("break-active"),i="Break started!",e.audioTicking.play();break;case"break-paused":e.pomoTimer.classList.add("break-paused"),i="Paused",e.audioTicking.pause();break;default:return e.audioTicking.pause(),void(i="Ready")}k(i)},k=function(t){for(;e.stateView.firstChild;)e.stateView.removeChild(e.stateView.firstChild);var i=document.createElement("div"),a=document.createTextNode(t);i.appendChild(a),e.stateView.appendChild(i)},g=function(e){var t=Math.floor(e/60),i=e%60,a=t%60;t>=60&&(a=60,i=0);var n=function(e){return e<10?"0".concat(e):e};return i=n(i),a=n(a),"".concat(a,":").concat(i)},p=function(t){e.timer.innerHTML=t,e.progressBar.style.strokeDashoffset=v()},v=function(){if(0!==t.remainingTime){var e=t.originalTime-1;return 565.48-565.48*(t.remainingTime-1)/e}return 565.48},B=function(){t.startHidden&&e.start.removeAttribute("disabled",!0),t.isActive=!1,e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),t.startTime=t.originalTime,t.remainingTime=t.originalTime,clearInterval(t.countDown),p(g(t.remainingTime)),t.pomoState="init",T(t.pomoState)},E=function(){"break-active"===t.pomoState?t.pomoState="break-paused":t.pomoState="paused",T(t.pomoState),t.isActive=!1,e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),clearInterval(t.countDown),0===t.remainingTime?(t.startHidden=!0,e.start.setAttribute("disabled",!0),t.pomoState="finished",T(t.pomoState),e.audioTimesUp.play()):t.startTime=t.remainingTime},b=function(){t.isActive?0!==t.remainingTime&&E():("break"===t.pomoState||"break-paused"===t.pomoState?t.pomoState="break-active":t.pomoState="active",T(t.pomoState),t.isActive=!0,e.start.innerHTML="Pause",e.start.setAttribute("aria-pressed",!0),t.dateStarted=Date.now(),t.countDown=setInterval((function(){var e;t.delta=Math.round((Date.now()-t.dateStarted)/1e3),t.remainingTime=(e=t.delta,0==t.startTime-e?(e=0,0):t.startTime-e),p(g(t.remainingTime)),0===t.remainingTime&&E()}),100))},L=function(){t.isActive=!1,clearInterval(t.countDown),e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),t.startTime<=3300?t.startTime+=300:t.startTime=3600,t.remainingTime=t.startTime,t.originalTime=t.startTime,p(g(t.startTime)),t.pomoState="init",T(t.pomoState)},f=function(){t.isActive=!1,clearInterval(t.countDown),e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),t.startTime>=600?t.startTime-=300:t.startTime=300,t.remainingTime=t.startTime,t.originalTime=t.startTime,p(g(t.startTime)),t.pomoState="init",T(t.pomoState)},h=function(){B(),t.isActive=!1,clearInterval(t.countDown),e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),t.startTime=300,t.remainingTime=t.startTime,t.originalTime=t.startTime,p(g(t.startTime)),t.pomoState="break",T(t.pomoState)},y=function(){B(),t.isActive=!1,clearInterval(t.countDown),e.start.innerHTML="Start",e.start.setAttribute("aria-pressed",!1),t.startTime=900,t.remainingTime=t.startTime,t.originalTime=t.startTime,p(g(t.startTime)),t.pomoState="break",T(t.pomoState)};B(),p(g(t.remainingTime)),e.start.addEventListener("click",b),e.reset.addEventListener("click",B),e.shortBreak.addEventListener("click",h),e.longBreak.addEventListener("click",y),e.increaseTime.addEventListener("click",L),e.decreaseTime.addEventListener("click",f)}();
