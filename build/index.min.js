(function () {
    'use strict';

    var $timer = document.getElementById("timer");
    var $start = document.getElementById("start");
    var $reset = document.getElementById("reset");
    var isRunning = false;
    var dateStarted;
    var delta;

    var countdown = function countdown() {};

    var originalTime = 36000000000;
    var startTime = originalTime;
    var remainingTime = originalTime;

    var formatTime = function formatTime(seconds) {
      var formattedTime;
      var minutes = Math.floor(seconds / 60);
      var hours = Math.floor(minutes / 60);
      var fseconds = seconds % 60;
      var fminutes = minutes % 60;
      var fhours = hours % 99;

      var addLeadingZero = function addLeadingZero(_int) {
        return _int < 10 ? "0".concat(_int) : _int;
      };

      if (fhours > 99) {
        fhours = 99;
      }

      fseconds = addLeadingZero(fseconds);
      fminutes = addLeadingZero(fminutes);
      fhours = addLeadingZero(fhours);
      formattedTime = "".concat(fhours, ":").concat(fminutes, ":").concat(fseconds);
      return formattedTime;
    };

    var printTimer = function printTimer(print) {
      return $timer.innerHTML = print;
    };

    var adjustTime = function adjustTime(delta) {
      var res = startTime - delta;

      if (res === 0) {
        delta = 0;
        return 0;
      }

      return startTime - delta;
    };

    var onReset = function onReset() {
      onStop();
      $start.removeAttribute("disabled", true);
      startTime = originalTime;
      remainingTime = originalTime;
      printTimer(formatTime(remainingTime));
    };

    var onStop = function onStop() {
      isRunning = false;
      $start.innerHTML = "Start";
      clearInterval(countdown);
      startTime = remainingTime;
      console.log(remainingTime);

      if (remainingTime === 0) {
        $start.setAttribute("disabled", true);
      }
    };

    var onStart = function onStart() {
      if (!isRunning) {
        if (remainingTime === 0) {
          remainingTime = startTime;
        }

        isRunning = true;
        $start.innerHTML = "Pause";
        dateStarted = Date.now();
        countdown = setInterval(function () {
          delta = Math.round((Date.now() - dateStarted) / 1000);
          remainingTime = adjustTime(delta);
          printTimer(formatTime(remainingTime));
          console.log(remainingTime);

          if (remainingTime === 0) {
            onStop();
          }
        }, 100);
      } else if (remainingTime != 0) {
        onStop();
      }
    };

    $start.addEventListener("click", onStart);
    $reset.addEventListener("click", onReset);
    printTimer(formatTime(remainingTime));

}());
